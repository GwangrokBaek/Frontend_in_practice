<!-- 아래 예제는 보안상의 이유로 파일 시스템이 아닌 실제 서버에서만 동작하고, 같은 도메인을 가진 창에 대해서만 작동한다. -->

<!doctype html>
<html>
    <head>

    </head>
    <body>
        <input type="button" value="open" onclick="winopen();" />
        <input type="text" onkeypress="winmessage(this.value)" /> <!-- onkeypress 이벤트는 사용자가 타이핑을 해서 글자를 환성할 때마다
        할당된 자바스크립트를 호출한다. 여기서 this.value 는 text 태그에 입력된 값을 가리킨다. -->
        <input type="button" value="close" onclick="winclose()" />

        <script>
            function winopen() {
                win = window.open('demo2.html', 'ot', 'width=300px, height=500px');
                // window.open() 메서드는 demo2.html 이 담긴 새로운 창에 대한 window 객체를 반환한다. 이를 전역 변수 win 에 할당하였다.
            }
            function winmessage(msg) {
                win.document.getElementById('message').innerText=msg;
                // win 변수는 새로운 창에 대한 window 객체를 위에서 할당받았으므로, 새로운 문서에서 message 라는 id 를 가진 Element 의 innerText 에
                // 위의 text 타입 input 태그에서 입력된 값을 넣어준다.
                /*
                    이때 demo2.html 이 아래와 같다면,
                    
                    <div id="message">Hello World</div>

                    여기서 id 가 message 인 태그의 innerText 인 Hello World 부분을 위에서 입력된 값으로 바꿔준다.
                */
            }
            function winclose() {
                win.close();
            }
        </script>

        <!-- 브라우저는 사용자의 컴퓨터에 접근할 수 있는 권한을 가지는데, 자바스크립트는 웹브라우저를 제어하므로 이것이 악용될 수 있다.
        따라서 window 를 열고 키는 것에 제한을 두고 있다. 예를 들어 innerText 를 바꾸는 경우 같은 도메인일 때에만 가능하며,
        팝업같은 경우에는 인터넷의 사용성을 저해하는 측면이 있기에 최근에는 팝업을 제한하고 있다.
        따라서 아래와 같이 코드를 작성할 경우, 팝업이 차단되고 사용자가 명시적으로 팝업을 허용하는 경우에 팝업창이 생성된다.
        즉, 웹브라우저에서 명시적으로 허용을 하거나 또는 위에서와 같이 사용자가 제어할 수 있는 input 태그 등을 사용할 경우에는 생성된다. -->
        <script>
            window.open('demo2.html');
        </script>
        
    </body>
</html>